
> relic-test-suite@1.0.0 test:all
> tsx tests/run-all-tests.ts

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Reliq Protocol Complete Test Suite   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Session ID: 2026-02-13_17-59-17


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 1: Create Vault with BITE Encryption
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 1: Create Vault with BITE Encryption
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-17
Deployer: 0x9554CEb8aEAA4bDEc5b088ec980254d6a2Da3c72
Contract: 0x2277f5210daAaab3E26e565c96E5F9BeDb46662B
Amount: 0.0001 ETH

Vault payload: {
  beneficiary: '0x742d35Cc6634C0532925a3b844Bc454e4438f44e',
  amount: '100000000000000',
  message: 'This is a test vault. If you receive this, the vault was successfully triggered!'
}

Payload (hex): 0x7b2262656e6566696369617279223a22307837343264333543633636333443303533323932356133623834344263343534653434333866343465222c22616d6f756e74223a22313030303030303030303030303030222c226d657373616765223a225468697320697320612074657374207661756c742e20496620796f75207265636569766520746869732c20746865207661756c7420776173207375636365737366756c6c792074726967676572656421227d

ğŸ” Encrypting payload with BITE...
Encrypted payload: 0xf901d580b901d10116bfc1526d2f568d45d6d9fa7ebc80bb01a87f883dd98d05...

Vault count before: 2

ğŸ“¤ Submitting transaction...
Transaction hash: 0x898dfb8a0c6edbfdebe3ede8fb4c89eb73b2da0f75a9128e2d3d7bb246caaac7
Waiting for confirmation...


Error: socket hang up
    at TLSSocket.socketOnEnd (node:_http_client:598:25)
    at TLSSocket.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'ECONNRESET'
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 2: Check Vault Details
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 2: Check Vault Details
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-17
Vault ID: 0

ğŸ” Querying vault details...

Vault Details:
  Owner: 0x9554CEb8aEAA4bDEc5b088ec980254d6a2Da3c72
  Last Response: 1970-01-01T00:00:00.000Z
  Timeout: 300 seconds
  Amount: 0.0001 ETH
  Executed: true
  Can Trigger: false

âœ… Step 2: Check Vault Details
   Log: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-17/step_2.log
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 2 Complete!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 3: Send Heartbeat Response
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 3: Send Heartbeat Response
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-17

Error: ENOENT: no such file or directory, open '/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-17/vault_id.txt'
    at Object.readFileSync (node:fs:440:20)
    at main (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/tests/03-heartbeat.ts:39:24)
    at <anonymous> (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/tests/03-heartbeat.ts:168:1)
    at ModuleJob.run (node:internal/modules/esm/module_job:377:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:691:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5) {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-17/vault_id.txt'
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 4: Check Trigger Vault
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 4: Trigger Vault
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-17

Error: ENOENT: no such file or directory, open '/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-17/vault_id.txt'
    at Object.readFileSync (node:fs:440:20)
    at main (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/tests/04-trigger-vault.ts:40:24)
    at <anonymous> (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/tests/04-trigger-vault.ts:143:1)
    at ModuleJob.run (node:internal/modules/esm/module_job:377:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:691:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5) {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-17/vault_id.txt'
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 5: Complete Workflow Demo
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Reliq Complete Workflow Demo
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-24
Contract: 0x2277f5210daAaab3E26e565c96E5F9BeDb46662B
Deployer: 0x9554CEb8aEAA4bDEc5b088ec980254d6a2Da3c72

â”â”â” STEP 1: Create Vault â”â”â”

Payload: {
  beneficiary: '0x742d35Cc6634C0532925a3b844Bc454e4438f44e',
  amount: '100000000000000',
  message: 'ğŸ‰ Vault successfully triggered and decrypted!'
}

ğŸ” Encrypting with BITE...
âœ… Encrypted

ğŸ“¤ Creating vault...
âœ… Vault created!
   Vault ID: 3
   TX: 0x9cc40acdf86545940df3e991181164f98f707a0672e1919b7ae81ec8bf6d1792
   Gas: 427639

âœ… Step 5.1: Create Vault
   TX: 0x9cc40acdf86545940df3e991181164f98f707a0672e1919b7ae81ec8bf6d1792
   Log: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-24/step_5.1.log
â”â”â” STEP 2: Force Expire Timeout (DEMO) â”â”â”

âš ï¸  Using DEMO backdoor to instantly expire timeout

âœ… Timeout expired!
   TX: 0x8a353b1d459dd8b2758a24891f428ed0482eb33077aeb347d08ae1e7870f9ab3
   Gas: 15895

âœ… Step 5.2: Force Expire Timeout (DEMO)
   TX: 0x8a353b1d459dd8b2758a24891f428ed0482eb33077aeb347d08ae1e7870f9ab3
   Log: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-24/step_5.2.log
Can trigger now: true

â”â”â” STEP 3: Retrieve Encrypted Payload â”â”â”

Encrypted payload length: 882 bytes

â”â”â” STEP 4: Decrypt BITE Payload â”â”â”

ğŸ”“ Decrypting payload with BITE...
â³ Decryption not yet available (expected for this demo)
   Original payload: {
  beneficiary: '0x742d35Cc6634C0532925a3b844Bc454e4438f44e',
  amount: '100000000000000',
  message: 'ğŸ‰ Vault successfully triggered and decrypted!'
}

â”â”â” STEP 5: Trigger Vault â”â”â”

Triggering vault for beneficiary: 0x742d35Cc6634C0532925a3b844Bc454e4438f44e

âœ… Vault triggered!
   TX: 0xebf88377157f7d175f5dbed16db06c3ea020694c5bee5e5da829d6ce4ceb1cfd
   Gas: 59979
   Amount transferred: 0.0001 ETH
   To: 0x742d35Cc6634C0532925a3b844Bc454e4438f44e

âœ… Step 5.5: Trigger Vault
   TX: 0xebf88377157f7d175f5dbed16db06c3ea020694c5bee5e5da829d6ce4ceb1cfd
   Log: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-24/step_5.5.log
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   âœ… Complete Workflow Demo Successful!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Summary:
  1. Created vault with BITE encryption
  2. Used DEMO backdoor to instantly expire timeout
  3. Verified vault can be triggered
  4. Triggered vault successfully
  5. Transferred 0.0001 ETH to beneficiary

Session: 2026-02-13_17-59-24
Results: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-24





â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         Test Suite Summary             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Session ID: 2026-02-13_17-59-17
Results Directory: test-results/session_2026-02-13_17-59-17

Results:
  âœ… Step 1: PASSED
  âœ… Step 2: PASSED
  âœ… Step 3: PASSED
  âœ… Step 4: PASSED
  âœ… Step 5: PASSED

ğŸ‰ All tests completed successfully!
