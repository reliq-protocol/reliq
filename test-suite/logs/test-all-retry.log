
> relic-test-suite@1.0.0 test:all
> tsx tests/run-all-tests.ts

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Reliq Protocol Complete Test Suite   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Session ID: 2026-02-13_17-59-34


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 1: Create Vault with BITE Encryption
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 1: Create Vault with BITE Encryption
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-34
Deployer: 0x9554CEb8aEAA4bDEc5b088ec980254d6a2Da3c72
Contract: 0x2277f5210daAaab3E26e565c96E5F9BeDb46662B
Amount: 0.0001 ETH

Vault payload: {
  beneficiary: '0x742d35Cc6634C0532925a3b844Bc454e4438f44e',
  amount: '100000000000000',
  message: 'This is a test vault. If you receive this, the vault was successfully triggered!'
}

Payload (hex): 0x7b2262656e6566696369617279223a22307837343264333543633636333443303533323932356133623834344263343534653434333866343465222c22616d6f756e74223a22313030303030303030303030303030222c226d657373616765223a225468697320697320612074657374207661756c742e20496620796f75207265636569766520746869732c20746865207661756c7420776173207375636365737366756c6c792074726967676572656421227d

ğŸ” Encrypting payload with BITE...
Encrypted payload: 0xf901d580b901d10108638dcb1d5711e91172a3c080b5d8ef2d5fde169d329373...

Vault count before: 4

ğŸ“¤ Submitting transaction...
Transaction hash: 0xb3c537fc016e09827112b0e09469e6c5b98f7dcf88a0f524af62e420f0de2683
Waiting for confirmation...

âœ… Transaction confirmed!
Block: 876108
Gas used: 448206

Created vault ID: 4
Total vaults: 5

âœ… Step 1: Create Vault with BITE Encryption
   TX: 0xb3c537fc016e09827112b0e09469e6c5b98f7dcf88a0f524af62e420f0de2683
   Log: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-34/step_1.log
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 1 Complete!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 2: Check Vault Details
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 2: Check Vault Details
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-34
Vault ID: 4

ğŸ” Querying vault details...

Vault Details:
  Owner: 0x9554CEb8aEAA4bDEc5b088ec980254d6a2Da3c72
  Last Response: 2026-02-13T17:59:38.000Z
  Timeout: 300 seconds
  Amount: 0.0001 ETH
  Executed: false
  Can Trigger: false

âœ… Step 2: Check Vault Details
   Log: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-34/step_2.log
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 2 Complete!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 3: Send Heartbeat Response
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 3: Send Heartbeat Response
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-34
Vault ID: 4


TypeError: invalid private key (argument="privateKey", value="[ REDACTED ]", code=INVALID_ARGUMENT, version=6.16.0)
    at makeError (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/utils/errors.ts:691:21)
    at assert (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/utils/errors.ts:719:25)
    at assertArgument (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/utils/errors.ts:731:5)
    at new BaseWallet (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/wallet/base-wallet.ts:48:9)
    at new Wallet (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/wallet/wallet.ts:47:9)
    at main (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/tests/03-heartbeat.ts:46:20)
    at <anonymous> (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/tests/03-heartbeat.ts:168:1)
    at ModuleJob.run (node:internal/modules/esm/module_job:377:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:691:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5) {
  code: 'INVALID_ARGUMENT',
  argument: 'privateKey',
  value: '[ REDACTED ]',
  shortMessage: 'invalid private key'
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 4: Check Trigger Vault
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Step 4: Trigger Vault
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-34
Vault ID: 4


TypeError: invalid private key (argument="privateKey", value="[ REDACTED ]", code=INVALID_ARGUMENT, version=6.16.0)
    at makeError (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/utils/errors.ts:691:21)
    at assert (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/utils/errors.ts:719:25)
    at assertArgument (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/utils/errors.ts:731:5)
    at new BaseWallet (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/wallet/base-wallet.ts:48:9)
    at new Wallet (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/node_modules/ethers/src.ts/wallet/wallet.ts:47:9)
    at main (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/tests/04-trigger-vault.ts:47:20)
    at <anonymous> (/Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/tests/04-trigger-vault.ts:143:1)
    at ModuleJob.run (node:internal/modules/esm/module_job:377:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:691:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5) {
  code: 'INVALID_ARGUMENT',
  argument: 'privateKey',
  value: '[ REDACTED ]',
  shortMessage: 'invalid private key'
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Running Step 5: Complete Workflow Demo
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Reliq Complete Workflow Demo
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ Test session: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-46
Contract: 0x2277f5210daAaab3E26e565c96E5F9BeDb46662B
Deployer: 0x9554CEb8aEAA4bDEc5b088ec980254d6a2Da3c72

â”â”â” STEP 1: Create Vault â”â”â”

Payload: {
  beneficiary: '0x742d35Cc6634C0532925a3b844Bc454e4438f44e',
  amount: '100000000000000',
  message: 'ğŸ‰ Vault successfully triggered and decrypted!'
}

ğŸ” Encrypting with BITE...
âœ… Encrypted

ğŸ“¤ Creating vault...
âœ… Vault created!
   Vault ID: 5
   TX: 0xba3cc0e704225310413fcc716b11463323e818da4d526e9825296051a7924772
   Gas: 427639

âœ… Step 5.1: Create Vault
   TX: 0xba3cc0e704225310413fcc716b11463323e818da4d526e9825296051a7924772
   Log: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-46/step_5.1.log
â”â”â” STEP 2: Force Expire Timeout (DEMO) â”â”â”

âš ï¸  Using DEMO backdoor to instantly expire timeout

âœ… Timeout expired!
   TX: 0x402a735092816d95246e60499b62a065e2d52968d09d788a5d7f3bb578754a62
   Gas: 15895

âœ… Step 5.2: Force Expire Timeout (DEMO)
   TX: 0x402a735092816d95246e60499b62a065e2d52968d09d788a5d7f3bb578754a62
   Log: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-46/step_5.2.log
Can trigger now: true

â”â”â” STEP 3: Retrieve Encrypted Payload â”â”â”

Encrypted payload length: 882 bytes

â”â”â” STEP 4: Decrypt BITE Payload â”â”â”

ğŸ”“ Decrypting payload with BITE...
â³ Decryption not yet available (expected for this demo)
   Original payload: {
  beneficiary: '0x742d35Cc6634C0532925a3b844Bc454e4438f44e',
  amount: '100000000000000',
  message: 'ğŸ‰ Vault successfully triggered and decrypted!'
}

â”â”â” STEP 5: Trigger Vault â”â”â”

Triggering vault for beneficiary: 0x742d35Cc6634C0532925a3b844Bc454e4438f44e

âœ… Vault triggered!
   TX: 0x656af295288d2093c153431b0d88375dc542d84314ff20a1943bf54ee3737456
   Gas: 59979
   Amount transferred: 0.0001 ETH
   To: 0x742d35Cc6634C0532925a3b844Bc454e4438f44e

âœ… Step 5.5: Trigger Vault
   TX: 0x656af295288d2093c153431b0d88375dc542d84314ff20a1943bf54ee3737456
   Log: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-46/step_5.5.log
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   âœ… Complete Workflow Demo Successful!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Summary:
  1. Created vault with BITE encryption
  2. Used DEMO backdoor to instantly expire timeout
  3. Verified vault can be triggered
  4. Triggered vault successfully
  5. Transferred 0.0001 ETH to beneficiary

Session: 2026-02-13_17-59-46
Results: /Users/yulun/Documents/work/sol/iloveu3kyears/test-suite/test-results/session_2026-02-13_17-59-46





â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         Test Suite Summary             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Session ID: 2026-02-13_17-59-34
Results Directory: test-results/session_2026-02-13_17-59-34

Results:
  âœ… Step 1: PASSED
  âœ… Step 2: PASSED
  âœ… Step 3: PASSED
  âœ… Step 4: PASSED
  âœ… Step 5: PASSED

ğŸ‰ All tests completed successfully!
